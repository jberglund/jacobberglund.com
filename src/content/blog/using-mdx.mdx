---
title: "Kort fortalt, hva er progressive enhancement"
description: "Lorem ipsum dolor sit amet"
pubDate: "Jul 02 2022"
takeaways:
  [
    "Hva er progressive enhancement? Jo, en princip och/eller filosofi för att bygga ting som fungerar för så många som möjligt",
    "Baserat på vad browsern kan eller brukern vill, så lägger man till funktionalitet.",
    "Tanken är att ge alla det viktigaste, men de som kan får en bättre upplevelse.",
  ]
---

#### Kort fortalt, hva er progressive enhancement?

En princip och/eller filosofi för att bygga ting som fungerar för så många som möjligt och baserat på vad browsern kan eller brukern vill, så lägger man till funktionalitet. Tanken är att ge alla det viktigaste, men de som kan får en bättre upplevelse.

#### Hvordan fungerer det i praksis?

Jag tänker så här jag:

- Grundläggande innehåll och funktionalitet ska vara tillgängligt för alla webbläsare.
- Sparsam, semantisk markup innehåller allt innehåll. (lite som UU)
- Visuell layout förbättring sker med fristående CSS.
- Förbättrad funktionalitet tillhandahålls av externt länkad Javascript.

Vad menar man med grundläggande innehåll och funktionalitet då? Jo, i 2023 så är det fullt möjligt att göra en fungerande app med endast HTML – och det kunde man också för 20 år sedan med exakt samma teknologi. Det är så klart extremt att bara skulle använda HTML, men dagligen så finner vi ju oss på den andra sidan extremen:

- Allt av innehåll, funktionalitet och layout blir tillgängligt när webbläsaren hämtat och kört Javascript.

Javascript ska helst inte möjliggöra upplevelsen, men förbättra den. Men låt oss inte hamna i diskussioner om "Fungerar sidan utan Javascript?" eller "Kan man läsa sidan utan CSS?". Det i sig själv är verkligen inte målet, utan: progressive enhancement sker när du slutar ställa krav till brukers nettleser och istället förbättrar upplevelsen beroende på vad den är kapabel till.

Hva er ulempene med å ikke ha en strategi for progressive enhancement når man lager nettsider og apper?

Poänget med att specificera grundläggande innehåll samt externt länkad CSS och Javasscript i listan ovan är för undvika ett vattenfalls scenario där en bruker inte kan se eller göra något förrän Javascript är nedladdat och börjar producera HTML. Vad om det inte gick att hämta? Det är ju en dålig strategi att anta och hoppas att det alltid går bra. Vi som utvecklare är ju annars ganska bra på att hantera undantag.

Er det ikke mye mer jobb å få til dette?

Det kommer ju an på vilket utgångspunkt man har och vilken nivå man väljer att lägga sig på. I tiden av SPAs har vi nästan gått emot "standard måten" att göra ting på. Lösning på många problem blev mer kod och att ramverken abstraherat bort browser APIs gör det heller inte så enkelt att lära sig mer om de.
Så för många så blir det kanske ett nytt sätt att tänka och utveckla på. Det krävs en annan kunskap – mer om hur browsers fungerar och vad de är kapabel till än hur man gör ting i ett specifikt ramverk.

#### Hvordan kan jeg som utvikler ta i bruk progressive enhancement?

Här är några handfasta exempel:

- Om du inte använder `event.preventDefault()` för knappar och skjema, vad sker då? Går det att först lösa utan?
- URLs är bra för att hantera tillstånd. Om möjligt, använd det hellre än global applikationstillstånd.
- `<a href="/about">` är 10x bättre än `<button onClick={() => window.location.pathname = 'about'}>`. Båda gör samma sak, men med en länk istället för en knapp så kan man exempelvis “Åpne i ny fane” eller “Kopier lenke”.
- Man får mycket gratis med forms: enkel validering, focus till invalid vid submit och inte minst FormData() vid submit
- ... och kombinerar du det med lite modern CSS så har du kommit väldigt långt utan tillstånd eller onchange i JS.

Om möjligt, implementera inte funktionalitet som redan finns i browsern.

#### Når man bruker moderne rammeverk som f.eks. Next.js eller SvelteKit, eller f.eks. CSS-rammeverk som Tailwind, tar de automatisk høyde for progressive enhancement?

Det här är egentligen frågan som sätter progressive enhancement tillbaka på dagordningen i 2023. Om man bygger med ramverk som resulterar i en SPA så är det nästan omöjligt, men nu, med modernare rammeverk går det att ha kakan och äta den också. En bra tid att sätta sig in i progressive enhancement med andra ord!
Oavsett vilket av de mer moderna ramverken så tar Server-Side Rendering oss en bra bit på vägen. I SvelteKit är det för exempel lagt upp till att en sida ska ta emot FormData() från en form submit. Vill man inte ha en refresh av sidan så är det opt-in att progressivt förbättra det hela på klientsidan, men det fungerar alltså by-default utan JS. Det är fett. Också värt att nämna Remix, Qwik och Astro som ramverk som ligger långt fram när det kommer till progressive enhancement.
När det gäller CSS, inte bara Tailwind, så är det ju det mest progressiva verktyget vi har. En browser ignorerar ju allt av regler den inte känner igen så du kan använda det allra senaste idag; [container-queries](https://docs.astro.build), [view-transition](https://docs.astro.build), [subgrid](https://docs.astro.build) eller varför inte [trigonometry functions](https://docs.astro.build) om du är riktigt vågad. Kom ihåg att först se till att det fungerar utan, därefter använder du @supports för att förbättra. Vilken tid vi lever i!

#### Har det noen fordeler med tanke på SEO og tilgjengelighet å ta i bruk progressive enhancement?

Det viktigaste är alltid relevant innehåll, men semantisk HTML hjälper ju både för SEO och Universiell Utformning. Google har de senaste åren haft fokus på att bra performance ska ge högre ranking. En SPA kommer (som regel) inte så väldigt gott ut på exempelvis First Contenful Paint eller Time to Interactive.

#### Tenker du at nettsider bør fungere selv om man har skrudd av JavaScript helt? Eller handler det mest om å støtte ikke bare de aller nyeste nettleserne?

Javascript av eller på är inte målet i sig själv, men en indikator på robusthet. Det handlar inte om att stötta de nyaste eller inte, men att ge en bruker det viktigaste oavsett förutsättning. Vi har ju alla upplevt dåligt nett, sant? Det är frustrerande att se på en vit skärm för att man må vänta på Javascript. Så om man slagit av eller om det tar lång tid att ladda, så är ju strategien för att lösa det i samma gata.

Du har også noe som heter graceful degradation. Blir ikke det nesten det samme?

Nästan, skillnaden är att graceful degradation tar bort och progressive enhancement lägger till. Personligen tycker jag graceful degradation dog med Internet Explorer. Man utvecklade för moderna browsers, men gav en brukbar upplevelse för äldre browsers genom att inkludera polyfills eller att visa en... mindre fin sida. Idag så är de flesta browsers på lik linje, så problemet är därför inte lika illa. Istället för att patcha gamla browsers så kan vi istället se framåt och ta i bruk sådant som inte landat i hos alla leverantörer ännu.

#### Er det noe annet kode24-leserne må vite om progressive enhancement?

Progressive enhancement handlar lika mycket om att du kan använda det senaste – du måste bara ha fått det att fungera utan först. Och den goda nyheten är ju att det har aldrig varit enklare att få till med verktygen vi fått de senaste åren. :D

- [MDX Syntax Documentation](https://mdxjs.com/docs/what-is-mdx)
- [Astro Usage Documentation](https://docs.astro.build/en/guides/markdown-content/#markdown-and-mdx-pages)
- **Note:** [Client Directives](https://docs.astro.build/en/reference/directives-reference/#client-directives) are still required to create interactive components. Otherwise, all components in your MDX will render as static HTML (no JavaScript) by default.
